"use strict";(self.webpackChunkwindmill_turbine=self.webpackChunkwindmill_turbine||[]).push([[107],{2107:(Ve,w,a)=>{a.r(w),a.d(w,{UserManagementModule:()=>Fe});var c=a(6895),p=a(4793),m=a(8929),d=a(7625),b=a(1548),e=a(4650),g=a(154),h=a(6005),y=a(7757),x=a(5252),T=a(6176),P=a(4750);let A=(()=>{class r{constructor(s,t){this.elementRefer=s,this.renderer=t}ngOnInit(){this.elementRefer.nativeElement.classList.add(this.wtSliderType),this.renderer.addClass(this.elementRefer.nativeElement,this.wtSliderType)}}return r.\u0275fac=function(s){return new(s||r)(e.Y36(e.SBq),e.Y36(e.Qsj))},r.\u0275dir=e.lG2({type:r,selectors:[["","wtGlobalSlider",""]],inputs:{wtSliderType:"wtSliderType"}}),r})();var l=a(4006),U=a(8796);function q(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Name is required. "),e.qZA())}function M(r,i){if(1&r&&(e.TgZ(0,"div",18),e.YNc(1,q,2,0,"span",0),e.qZA()),2&r){const s=e.oxw(2);e.xp6(1),e.Q6J("ngIf",s.f.name.errors.required)}}function I(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," User ID is required. "),e.qZA())}function J(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," User ID Must be Atleast 5 Characters Long. "),e.qZA())}function N(r,i){if(1&r&&(e.TgZ(0,"div",18),e.YNc(1,I,2,0,"span",0),e.YNc(2,J,2,0,"span",0),e.qZA()),2&r){const s=e.oxw(3);e.xp6(1),e.Q6J("ngIf",s.f.username.errors.required),e.xp6(1),e.Q6J("ngIf",null==s.f||null==s.f.username||null==s.f.username.errors?null:s.f.username.errors.minlength)}}const u=function(r){return{"is-invalid":r}};function R(r,i){if(1&r){const s=e.EpF();e.TgZ(0,"div",4)(1,"label",5),e._uU(2,"User ID"),e.qZA(),e.TgZ(3,"input",19),e.NdJ("ngModelChange",function(n){e.CHM(s);const o=e.oxw(2);return e.KtG(o.userData.username=n)}),e.qZA(),e.YNc(4,N,3,2,"div",7),e.qZA()}if(2&r){const s=e.oxw(2);e.xp6(3),e.Q6J("ngModel",s.userData.username)("ngClass",e.VKq(3,u,s.f.username.dirty&&s.f.username.errors)),e.xp6(1),e.Q6J("ngIf",s.f.username.errors&&s.f.username.dirty)}}function E(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Email is required. "),e.qZA())}function Q(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Enter a valid email pattern. "),e.qZA())}function Y(r,i){if(1&r&&(e.TgZ(0,"div",18),e.YNc(1,E,2,0,"span",0),e.YNc(2,Q,2,0,"span",0),e.qZA()),2&r){const s=e.oxw(2);e.xp6(1),e.Q6J("ngIf",s.f.email.errors.required),e.xp6(1),e.Q6J("ngIf",null==s.f||null==s.f.email||null==s.f.email.errors?null:s.f.email.errors.pattern)}}function F(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Phone Number is required. "),e.qZA())}function k(r,i){if(1&r&&(e.TgZ(0,"div",18),e.YNc(1,F,2,0,"span",0),e.qZA()),2&r){const s=e.oxw(2);e.xp6(1),e.Q6J("ngIf",s.f.phonenumber.errors.required)}}function D(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," User Role is required. "),e.qZA())}function V(r,i){if(1&r&&(e.TgZ(0,"div",18),e.YNc(1,D,2,0,"span",0),e.qZA()),2&r){const s=e.oxw(2);e.xp6(1),e.Q6J("ngIf",s.f.userrole.errors.required)}}function O(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," User ID is required. "),e.qZA())}function L(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," User ID Must be Atleast 5 Characters Long. "),e.qZA())}function S(r,i){if(1&r&&(e.TgZ(0,"div",18),e.YNc(1,O,2,0,"span",0),e.YNc(2,L,2,0,"span",0),e.qZA()),2&r){const s=e.oxw(3);e.xp6(1),e.Q6J("ngIf",s.f.username.errors.required),e.xp6(1),e.Q6J("ngIf",null==s.f||null==s.f.username||null==s.f.username.errors?null:s.f.username.errors.minlength)}}function G(r,i){if(1&r){const s=e.EpF();e.TgZ(0,"div",4)(1,"label",5),e._uU(2,"User ID"),e.qZA(),e.TgZ(3,"input",19),e.NdJ("ngModelChange",function(n){e.CHM(s);const o=e.oxw(2);return e.KtG(o.userData.username=n)}),e.qZA(),e.YNc(4,S,3,2,"div",7),e.qZA()}if(2&r){const s=e.oxw(2);e.xp6(3),e.Q6J("ngModel",s.userData.username)("ngClass",e.VKq(3,u,s.f.username.dirty&&s.f.username.errors)),e.xp6(1),e.Q6J("ngIf",s.f.username.errors&&s.f.username.dirty)}}function $(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Password is required. "),e.qZA())}function K(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Password Must be Atleast 8 Characters Long. "),e.qZA())}function B(r,i){if(1&r&&(e.TgZ(0,"div",18),e.YNc(1,$,2,0,"span",0),e.YNc(2,K,2,0,"span",0),e.qZA()),2&r){const s=e.oxw(3);e.xp6(1),e.Q6J("ngIf",s.f.password.errors.required),e.xp6(1),e.Q6J("ngIf",null==s.f||null==s.f.password||null==s.f.password.errors?null:s.f.password.errors.minlength)}}function H(r,i){1&r&&(e.TgZ(0,"span",27),e._uU(1," done "),e.qZA())}function z(r,i){1&r&&(e.TgZ(0,"span",28),e._uU(1," close "),e.qZA())}const W=function(r){return{"is-present":r}};function j(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"li",24),e.YNc(2,H,2,0,"span",25),e.YNc(3,z,2,0,"span",26),e.TgZ(4,"span"),e._uU(5),e.qZA()(),e.BQk()),2&r){const s=i.$implicit,t=e.oxw(4);e.xp6(1),e.Q6J("ngClass",e.VKq(4,W,s.isPresent)),e.xp6(1),e.Q6J("ngIf",t.isregexSatisfies(null==s?null:s.regex)),e.xp6(1),e.Q6J("ngIf",!t.isregexSatisfies(null==s?null:s.regex)),e.xp6(2),e.Oqu(s.label)}}function X(r,i){if(1&r&&(e.TgZ(0,"div")(1,"ul",22),e.YNc(2,j,6,6,"ng-container",23),e.qZA()()),2&r){const s=e.oxw(3);e.xp6(2),e.Q6J("ngForOf",s.passwordValidator)}}function ee(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Confirm Password is required. "),e.qZA())}function se(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Confirm Password is not same as Password. "),e.qZA())}function te(r,i){if(1&r&&(e.TgZ(0,"div",18),e.YNc(1,ee,2,0,"span",0),e.YNc(2,se,2,0,"span",0),e.qZA()),2&r){const s=e.oxw(3);e.xp6(1),e.Q6J("ngIf",s.f.confirmPassword.errors.required),e.xp6(1),e.Q6J("ngIf",null==s.f.confirmPassword.errors?null:s.f.confirmPassword.errors.validating_passwords)}}function re(r,i){if(1&r){const s=e.EpF();e.ynx(0),e.TgZ(1,"div",4)(2,"label",5),e._uU(3,"Password"),e.qZA(),e.TgZ(4,"input",20),e.NdJ("ngModelChange",function(n){e.CHM(s);const o=e.oxw(2);return e.KtG(o.userData.password=n)}),e.qZA(),e.YNc(5,B,3,2,"div",7),e.YNc(6,X,3,1,"div",0),e.qZA(),e.TgZ(7,"div",4)(8,"label",5),e._uU(9,"Confirm Password"),e.qZA(),e.TgZ(10,"input",21),e.NdJ("ngModelChange",function(n){e.CHM(s);const o=e.oxw(2);return e.KtG(o.userData.confirmPassword=n)}),e.qZA(),e.YNc(11,te,3,2,"div",7),e.qZA(),e.BQk()}if(2&r){const s=e.oxw(2);e.xp6(4),e.Q6J("ngModel",s.userData.password)("ngClass",e.VKq(7,u,s.f.password.dirty&&s.f.password.errors)),e.xp6(1),e.Q6J("ngIf",s.f.password.errors&&s.f.password.dirty),e.xp6(1),e.Q6J("ngIf",(null==s.passwordValidator?null:s.passwordValidator.length)>0),e.xp6(4),e.Q6J("ngModel",s.userData.confirmPassword)("ngClass",e.VKq(9,u,s.f.confirmPassword.dirty&&s.f.confirmPassword.errors)),e.xp6(1),e.Q6J("ngIf",s.f.confirmPassword.errors&&s.f.confirmPassword.dirty)}}function ne(r,i){if(1&r){const s=e.EpF();e.TgZ(0,"div")(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",4)(5,"label",5),e._uU(6,"Name"),e.qZA(),e.TgZ(7,"input",6),e.NdJ("ngModelChange",function(n){e.CHM(s);const o=e.oxw();return e.KtG(o.userData.name=n)}),e.qZA(),e.YNc(8,M,2,1,"div",7),e.qZA(),e.YNc(9,R,5,5,"div",8),e.TgZ(10,"div",4)(11,"label",5),e._uU(12,"Email"),e.qZA(),e.TgZ(13,"input",9),e.NdJ("ngModelChange",function(n){e.CHM(s);const o=e.oxw();return e.KtG(o.userData.email=n)}),e.qZA(),e.YNc(14,Y,3,2,"div",7),e.qZA(),e.TgZ(15,"div",4)(16,"label",5),e._uU(17,"Phone Number"),e.qZA(),e.TgZ(18,"input",10),e.NdJ("ngModelChange",function(n){e.CHM(s);const o=e.oxw();return e.KtG(o.userData.phonenumber=n)}),e.qZA(),e.YNc(19,k,2,1,"div",7),e.qZA(),e.TgZ(20,"div",4)(21,"label",5),e._uU(22,"User Role"),e.qZA(),e.TgZ(23,"ng-select",11),e.NdJ("ngModelChange",function(n){e.CHM(s);const o=e.oxw();return e.KtG(o.userData.userrole=n)}),e.qZA(),e.YNc(24,V,2,1,"div",7),e.qZA(),e.TgZ(25,"div",4)(26,"label",12),e._uU(27,"User Group"),e.qZA(),e.TgZ(28,"ng-select",13),e.NdJ("ngModelChange",function(n){e.CHM(s);const o=e.oxw();return e.KtG(o.userData.access_group_ids=n)}),e.qZA()()(),e.TgZ(29,"div",3),e.YNc(30,G,5,5,"div",8),e.YNc(31,re,12,11,"ng-container",0),e.qZA()()(),e.TgZ(32,"div",14)(33,"div",15)(34,"button",16),e.NdJ("click",function(){e.CHM(s);const n=e.oxw();return e.KtG(n.saveUser())}),e._uU(35," Save Changes "),e.qZA(),e.TgZ(36,"button",17),e.NdJ("click",function(){e.CHM(s);const n=e.oxw();return e.KtG(n.cancelUser())}),e._uU(37," Cancel "),e.qZA()()()()}if(2&r){const s=e.oxw();e.xp6(2),e.Q6J("formGroup",s.userForm),e.xp6(5),e.Q6J("ngModel",s.userData.name)("ngClass",e.VKq(21,u,s.f.name.dirty&&s.f.name.errors)),e.xp6(1),e.Q6J("ngIf",s.f.name.errors&&s.f.name.dirty),e.xp6(1),e.Q6J("ngIf",null==s.pageconf?null:s.pageconf.id),e.xp6(4),e.Q6J("ngModel",s.userData.email)("ngClass",e.VKq(23,u,s.f.email.dirty&&s.f.email.errors)),e.xp6(1),e.Q6J("ngIf",s.f.email.errors&&s.f.email.dirty),e.xp6(4),e.Q6J("ngModel",s.userData.phonenumber)("ngClass",e.VKq(25,u,s.f.phonenumber.dirty&&s.f.phonenumber.errors)),e.xp6(1),e.Q6J("ngIf",s.f.phonenumber.errors&&s.f.phonenumber.dirty),e.xp6(4),e.Q6J("multiple",!1)("items",s.dropdownData["user-roles"])("ngModel",s.userData.userrole)("ngClass",e.VKq(27,u,s.f.userrole.dirty&&s.f.userrole.errors)),e.xp6(1),e.Q6J("ngIf",s.f.userrole.errors&&s.f.userrole.dirty),e.xp6(4),e.Q6J("multiple",!0)("items",s.dropdownData["user-access-groups"])("ngModel",s.userData.access_group_ids),e.xp6(2),e.Q6J("ngIf",!(null!=s.pageconf&&s.pageconf.id)),e.xp6(1),e.Q6J("ngIf",!(null!=s.pageconf&&s.pageconf.id))}}function ie(r,i){1&r&&(e.TgZ(0,"div")(1,"div",29)(2,"div",30),e._UZ(3,"div")(4,"div")(5,"div")(6,"div"),e.qZA()()())}let v=(()=>{class r{constructor(s,t,n){this.appservice=s,this.toaster=t,this._util=n,this.pageconf={id:null,type:null,data:null},this.userEmitter=new e.vpe,this.passwordValidator=[{label:"One lowecase letter",value:"lowerCase",regex:/^(?=.*[a-z])/,isPresent:!1},{label:"One uppercase letter",value:"upperCase",regex:/^(?=.*[A-Z])/,isPresent:!1},{label:"One number",value:"number",regex:/^(?=.*\d)/,isPresent:!1},{label:"One special character",value:"lowerCase",regex:/^(?=.*[!@#$%^&*])/,isPresent:!1},{label:"8 characters minimum",value:"eightChars",regex:/^.{8,}$/,isPresent:!1}],this.userData={name:"",username:"",password:"",confirmPassword:"",email:"",phonenumber:[],userrole:null,user_id:"",access_group_ids:[]},this.allFields=["name","username","password","confirmPassword","email","phonenumber","userrole","access_group_ids"],this.loader={saveUser:!1,fetch:!1},this.destroy$=new m.xQ,this.dropdownData={"user-roles":[],"user-access-groups":[]},this.pageconf?.id?this.fetchUser():this.activateValidation()}ngOnInit(){this.loadData("user-roles"),this.loadData("user-access-groups")}confirmPasswordValidator(s){const t=s.root.controls;return t&&t.password&&t.password.value?t.password.value===s.value?((t.password.invalid||t.confirmPassword.invalid)&&(t.password.setErrors(),t.confirmPassword.setErrors()),null):{validating_passwords:!0}:null}activateValidation(){const s={};for(let t=0;t<this.allFields?.length;t++)s[this.allFields[t]]="email"===this.allFields[t]?new l.NI({value:null,disabled:!1},[l.kI.required,l.kI.pattern("^[A-Za-z0-9._%-]+@[A-Za-z0-9._%-]+\\.[a-z]{2,3}$")]):this.pageconf?.id||"confirmPassword"!==this.allFields[t]&&"password"!==this.allFields[t]?"username"===this.allFields[t]?new l.NI({value:null,disabled:this.pageconf?.id},[l.kI.required,l.kI.minLength(5)]):new l.NI({value:null,disabled:!1},[this.pageconf?.id&&("confirmPassword"===this.allFields[t]||"password"===this.allFields[t])||"access_group_ids"===this.allFields[t]?l.kI.nullValidator:l.kI.required]):new l.NI({value:null,disabled:!1},"confirmPassword"===this.allFields[t]?[l.kI.required,l.kI.minLength(8),this.confirmPasswordValidator]:[l.kI.required,l.kI.minLength(8)]);this.userForm=new l.cw(s)}ngOnChanges(s){s.pageconf&&this.pageconf?.id&&this.fetchUser()}fetchUser(){try{this.loader.fetch=!0,this.appservice.fetchUser({user_id:this.pageconf?.id}).pipe((0,d.R)(this.destroy$)).subscribe(s=>{s&&"success"===s.status?(this.userData=s?.data,this.loader.fetch=!1,this.activateValidation()):(this.loader.fetch=!1,this.toaster.toast("error","Error",s.message||"Error while fetching data."))},s=>{this.loader.fetch=!1,this.toaster.toast("error","Error","Error while fetching data."),console.error(s)})}catch(s){this.loader.fetch=!1,console.error(s)}}loadData(s){try{let t;switch(s){case"user-roles":t="getUserRoleDetails";break;case"user-access-groups":t="getUserAccessGroupDetails"}if(!t)return;this.loader.table=!0,this.appservice[t]().pipe((0,d.R)(this.destroy$)).subscribe(n=>{n&&"success"===n.status?(this.dropdownData[s]=n?.data?.rowData||[],this.loader.table=!1):(this.loader.table=!1,this.toaster.toast("error","Error",n.message||"Error while fetching data."))},n=>{this.loader.table=!1,this.toaster.toast("error","Error","Error while fetching data."),console.error(n)})}catch(t){this.loader.table=!1,console.error(t)}}validateAllFormFields(s){try{Object.keys(s.controls).forEach(t=>{const n=s.get(t);n instanceof l.NI?n.markAsDirty({onlySelf:!0}):n instanceof l.cw&&this.validateAllFormFields(n)})}catch(t){console.error(t)}}get f(){return this.userForm.controls}saveUser(){try{if(this.userForm.invalid)return this.validateAllFormFields(this.userForm),void this.toaster.toast("warning","Warning","Please fill all the required fields correctly.",!0);const s=JSON.parse(JSON.stringify(this.userData));if(this.pageconf?.id)s.user_id=this.pageconf.id,delete s.password;else{if(this.userData.password!==this.userData.confirmPassword)return void this.toaster.toast("warning","Warning","Confirm Password is not same as Password.",!0);let t=!0;for(let n of this.passwordValidator)if(t=t&&this.isregexSatisfies(n?.regex),!t)return void this.toaster.toast("warning","Warning","Please fill the password correctly.",!0);s.password=this._util.encryptPasswordWithUsername(s.password,s.username)}delete s.confirmPassword,this.loader.saveUser=!0,this.appservice.saveUser(s).pipe((0,d.R)(this.destroy$)).subscribe(t=>{t&&"success"===t.status?(this.toaster.toast("success","Success",t.message||"User saved successfully."),this.loader.saveUser=!1,this.emitData("save")):(this.loader.saveUser=!1,this.toaster.toast("error","Error",t.message||"Error while saving user."))},t=>{this.loader.saveUser=!1,this.toaster.toast("error","Error","Error while saving user."),console.error(t)})}catch(s){this.loader.saveUser=!1,console.error(s)}}cancelUser(){try{this.emitData("cancel")}catch(s){console.error(s)}}emitData(s,t){const n={page:"users",type:s};t&&(n.data=t),this.userEmitter.emit(n)}isregexSatisfies(s){try{return!!s&&!!s?.test(this.userData?.password)}catch(t){return console.error(t),!1}}}return r.\u0275fac=function(s){return new(s||r)(e.Y36(g.z),e.Y36(h.M),e.Y36(T.h))},r.\u0275cmp=e.Xpm({type:r,selectors:[["wt-config-user"]],inputs:{pageconf:"pageconf"},outputs:{userEmitter:"userEmitter"},features:[e.TTD],decls:2,vars:2,consts:[[4,"ngIf"],[1,"row","m-0","user-access-fields"],[1,"pl-0",3,"formGroup"],[1,"row","col-12","m-0","p-0"],[1,"form-group","col-4","pl-0"],[1,"form-design","required"],["type","text","placeholder","Enter Name","formControlName","name","ucpWhiteSpaceRestrictor","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["class","invalid-feedback pt-1",4,"ngIf"],["class","form-group col-4 pl-0",4,"ngIf"],["type","email","ucpWhiteSpaceRestrictor","","placeholder","Enter Email","formControlName","email",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["type","number","ucpWhiteSpaceRestrictor","","placeholder","Enter Phone Number","formControlName","phonenumber",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["placeholder","Select User Role","bindLabel","role","bindValue","user_role_id","bindLabel","role","formControlName","userrole",1,"form-control","p-0",3,"multiple","items","ngModel","ngClass","ngModelChange"],[1,"form-design"],["placeholder","Select User Group","bindLabel","access_group","bindValue","access_group_id","formControlName","access_group_ids",1,"form-control","p-0",3,"multiple","items","ngModel","ngModelChange"],[1,"col-12","pl-0","ml-0"],[1,"pt-3","ml-0","pl-0"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"btn","btn-inverse","btn-outline-primary","mx-2",3,"click"],[1,"invalid-feedback","pt-1"],["type","text","ucpWhiteSpaceRestrictor","","placeholder","Enter User ID","formControlName","username",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["type","password","ucpWhiteSpaceRestrictor","","placeholder","Enter Password","formControlName","password",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["type","password","ucpWhiteSpaceRestrictor","","placeholder","Enter Confirm Password","formControlName","confirmPassword",1,"form-control",3,"ngModel","ngClass","ngModelChange"],[1,"validator-list","row","m-0","pl-0"],[4,"ngFor","ngForOf"],[1,"validator-item","col-md-6","pl-0","mt-1","d-flex",3,"ngClass"],["class","material-icons-outlined pr-1 mt-1 color-green fz-1rem",4,"ngIf"],["class","material-icons-outlined pr-1 mt-1 color-red fz-1rem",4,"ngIf"],[1,"material-icons-outlined","pr-1","mt-1","color-green","fz-1rem"],[1,"material-icons-outlined","pr-1","mt-1","color-red","fz-1rem"],["id","loader-wrapper-submaincontent"],[1,"lds-ring"]],template:function(s,t){1&s&&(e.YNc(0,ne,38,29,"div",0),e.YNc(1,ie,7,0,"div",0)),2&s&&(e.Q6J("ngIf",t.userForm),e.xp6(1),e.Q6J("ngIf",(null==t.loader?null:t.loader.table)||(null==t.loader?null:t.loader.fetch)||(null==t.loader?null:t.loader.saveUser)))},dependencies:[c.mk,c.sg,c.O5,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.sg,l.u,U.w9],styles:[".user-access-fields[_ngcontent-%COMP%]{height:calc(100vh - 150px);max-height:calc(100vh - 150px);overflow-y:auto}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none}"]}),r})();function oe(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," User Role is required. "),e.qZA())}function le(r,i){if(1&r&&(e.TgZ(0,"div",13),e.YNc(1,oe,2,0,"span",8),e.qZA()),2&r){const s=e.oxw();e.xp6(1),e.Q6J("ngIf",s.f.user_role_name.errors.required)}}function ae(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1," Description is required. "),e.qZA())}function ce(r,i){if(1&r&&(e.TgZ(0,"div",13),e.YNc(1,ae,2,0,"span",8),e.qZA()),2&r){const s=e.oxw();e.xp6(1),e.Q6J("ngIf",s.f.user_role_description.errors.required)}}function de(r,i){1&r&&(e.TgZ(0,"span",17),e._uU(1,"chevron_right"),e.qZA())}function ue(r,i){1&r&&(e.TgZ(0,"span",17),e._uU(1,"expand_more"),e.qZA())}function _e(r,i){1&r&&(e.TgZ(0,"span",17),e._uU(1,"chevron_right"),e.qZA())}function pe(r,i){1&r&&(e.TgZ(0,"span",17),e._uU(1,"expand_more"),e.qZA())}const fe=function(){return{standalone:!0}};function me(r,i){if(1&r){const s=e.EpF();e.TgZ(0,"div",25)(1,"div",26)(2,"label")(3,"span",27),e._uU(4),e.qZA()()(),e.TgZ(5,"div",28)(6,"label",29)(7,"input",30),e.NdJ("ngModelChange",function(n){e.CHM(s);const o=e.oxw().$implicit,f=e.oxw(6);return e.KtG(f.accessPermission[f.activeTab][null==o?null:o.value]=n)})("change",function(){e.CHM(s);const n=e.oxw().$implicit,o=e.oxw(6);return e.KtG(o.onPermChange(o.activeTab,null==n?null:n.value))}),e.qZA(),e._UZ(8,"span",31),e.qZA()(),e.TgZ(9,"div",32)(10,"span"),e._uU(11),e.qZA()()()}if(2&r){const s=e.oxw().$implicit,t=e.oxw(6);e.xp6(4),e.Oqu(null==s?null:s.label),e.xp6(3),e.s9C("name",null==s?null:s.label),e.Q6J("checked",t.accessPermission[t.activeTab][null==s?null:s.value])("ngModel",t.accessPermission[t.activeTab][null==s?null:s.value])("ngModelOptions",e.DdM(6,fe)),e.xp6(4),e.hij("Can ",null==s?null:s.label," Setup")}}function ge(r,i){if(1&r&&(e.ynx(0),e.YNc(1,me,12,7,"div",24),e.BQk()),2&r){const s=i.$implicit,t=e.oxw(3).$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",(n.defaultParams.includes(null==s?null:s.value)||(null==t||null==t.extraPerms?null:t.extraPerms.includes(null==s?null:s.value)))&&!(null!=t&&t.hideDefaultPerms.includes(null==s?null:s.value))&&(!(null!=t&&t.parent)||(null==t?null:t.parent)&&(null==n.accessPermission||null==n.accessPermission[null==t?null:t.parent]?null:n.accessPermission[null==t?null:t.parent][null==s?null:s.value])))}}function he(r,i){if(1&r&&(e.TgZ(0,"div",22),e.YNc(1,ge,2,1,"ng-container",23),e.qZA()),2&r){const s=e.oxw(5);e.xp6(1),e.Q6J("ngForOf",s.allPermList)}}const ve=function(r){return{"ml-3":r}};function Ce(r,i){if(1&r){const s=e.EpF();e.ynx(0),e.TgZ(1,"div",20),e.NdJ("click",function(){e.CHM(s);const n=e.oxw().$implicit,o=e.oxw(3);return e.KtG(o.changeactiveTab(n))}),e.TgZ(2,"h6",15),e.YNc(3,_e,2,0,"span",16),e.YNc(4,pe,2,0,"span",16),e.TgZ(5,"span"),e._uU(6),e.qZA()()(),e.YNc(7,he,2,1,"div",21),e.BQk()}if(2&r){const s=e.oxw().$implicit,t=e.oxw(3);e.xp6(1),e.Q6J("ngClass",e.VKq(5,ve,null==s?null:s.parent)),e.xp6(2),e.Q6J("ngIf",t.activeTab!==s.value),e.xp6(1),e.Q6J("ngIf",t.activeTab===s.value),e.xp6(2),e.hij("",s.label," "),e.xp6(1),e.Q6J("ngIf",t.activeTab===s.value)}}function we(r,i){if(1&r&&(e.TgZ(0,"div",19),e.YNc(1,Ce,8,7,"ng-container",8),e.qZA()),2&r){const s=i.$implicit,t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!(null!=s&&s.parent)||(null==s?null:s.parent)&&(null==t.accessPermission[null==s?null:s.parent]?null:t.accessPermission[null==s?null:s.parent].view))}}function be(r,i){if(1&r&&(e.ynx(0),e.YNc(1,we,2,1,"div",18),e.BQk()),2&r){const s=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",s.accordionView)}}function xe(r,i){if(1&r){const s=e.EpF();e.TgZ(0,"div")(1,"div",14),e.NdJ("click",function(){e.CHM(s);const n=e.oxw();return e.KtG(n.openAccessTab())}),e.TgZ(2,"h5",15),e.YNc(3,de,2,0,"span",16),e.YNc(4,ue,2,0,"span",16),e.TgZ(5,"span"),e._uU(6," Access Permission"),e.qZA()()(),e.YNc(7,be,2,1,"ng-container",8),e.qZA()}if(2&r){const s=e.oxw();e.xp6(3),e.Q6J("ngIf",!s.openTab),e.xp6(1),e.Q6J("ngIf",s.openTab),e.xp6(3),e.Q6J("ngIf",s.accordionView&&s.openTab)}}function Te(r,i){1&r&&(e.TgZ(0,"div")(1,"div",33)(2,"div",34),e._UZ(3,"div")(4,"div")(5,"div")(6,"div"),e.qZA()()())}const Z=function(r){return{"is-invalid":r}};let C=(()=>{class r{constructor(s,t,n){this.appservice=s,this.toaster=t,this._auth=n,this.pageconf={id:null,type:null,data:null},this.userRoleEmitter=new e.vpe,this.userRoleForm=new l.cw({user_role_name:new l.NI({value:null,disabled:!1},[l.kI.required]),user_role_description:new l.NI({value:null,disabled:!1},[l.kI.required])}),this.userRoleData={user_role_name:null,user_role_description:null},this.loader={saveRole:!1,fetch:!1},this.destroy$=new m.xQ,this.openTab=!0,this.accordionView=[],this.allPermList=[],this.accessPermission={},this.defaultParams=["create","edit","delete","view"],this.fetchUserAccessPermissions()}ngOnInit(){}fetchUserAccessPermissions(){try{this.loader.fetchPerm=!0,this.appservice.fetchUserAccessPermissions().pipe((0,d.R)(this.destroy$)).subscribe(s=>{s&&"success"===s.status?(this.accordionView=s?.data?.items,this.allPermList=s?.data?.allPermissionList,this.accessPermission=this.setPermissions()||{},this.loader.fetchPerm=!1,this.pageconf?.id&&this.fetchUserRole()):(this.loader.fetchPerm=!1,this.toaster.toast("error","Error",s.message||"Error while fetching data."))},s=>{this.loader.fetchPerm=!1,this.toaster.toast("error","Error","Error while fetching data."),console.error(s)})}catch(s){this.loader.fetchPerm=!1,console.error(s)}}fetchUserRole(){try{this.loader.fetch=!0,this.appservice.fetchUserRole({user_role_id:this.pageconf?.id}).pipe((0,d.R)(this.destroy$)).subscribe(s=>{s&&"success"===s.status?(this.userRoleData.user_role_name=s?.data?.user_role_name,this.userRoleData.user_role_description=s?.data?.user_role_description,this.accessPermission=s?.data?.user_role_permissions||{},this.accessPermission=this.setPermissions(),this.loader.fetch=!1):(this.loader.fetch=!1,this.toaster.toast("error","Error",s.message||"Error while fetching data."))},s=>{this.loader.fetch=!1,this.toaster.toast("error","Error","Error while fetching data."),console.error(s)})}catch(s){this.loader.fetch=!1,console.error(s)}}setPermissions(){try{const s={};for(let t of this.accordionView){s[t?.value]={};for(let n of this.allPermList)this.defaultParams?.includes(n?.value)?s[t?.value][n?.value]=!t?.hideDefaultPerms?.includes(n?.value)&&(this.accessPermission?.[t?.value]?.[n?.value]||!1):t?.extraPerms?.includes(n?.value)&&(s[t?.value][n?.value]=this.accessPermission?.[t?.value]?.[n?.value]||!1);for(let n of this.allPermList)t?.parent&&(this.defaultParams.includes(n?.value)||t?.extraPerms?.includes(n?.value))&&(s[t?.value][n?.value]=this.accessPermission?.[t.parent]?.[n?.value]&&this.accessPermission?.[t?.value]?.[n?.value]||!1)}return s||{}}catch(s){return console.error(s),{}}}validateAllFormFields(s){try{Object.keys(s.controls).forEach(t=>{const n=s.get(t);n instanceof l.NI?n.markAsDirty({onlySelf:!0}):n instanceof l.cw&&this.validateAllFormFields(n)})}catch(t){console.error(t)}}get f(){return this.userRoleForm.controls}checkPermissions(){try{let s=!1;for(let t in this.accessPermission)for(let n in this.accessPermission[t])s=s||this.accessPermission[t][n];return s}catch(s){console.error(s)}}saveUserRole(){try{if(this.userRoleForm.invalid)return this.validateAllFormFields(this.userRoleForm),void this.toaster.toast("warning","Warning","Please fill all the required fields.",!0);if(!this.checkPermissions())return void this.toaster.toast("warning","Warning","Please set atleast one permission to this user role.",!0);this.accessPermission=this.setPermissions();const s={...this.userRoleData,user_role_permissions:this.accessPermission};this.pageconf?.id&&(s.user_role_id=this.pageconf.id),this.loader.saveRole=!0,this.appservice.saveUserRole(s).pipe((0,d.R)(this.destroy$)).subscribe(t=>{t&&"success"===t.status?(this.pageconf?.id&&this._auth.logout(),this.loader.saveRole=!1,this.toaster.toast("success","Success",t.message||"User role saved successfully."),this.emitData("save")):(this.loader.saveRole=!1,this.toaster.toast("error","Error",t.message||"Error while saving user role."))},t=>{this.loader.saveRole=!1,this.toaster.toast("error","Error","Error while saving user role."),console.error(t)})}catch(s){this.loader.saveRole=!1,console.error(s)}}cancelUserRole(){try{this.emitData("cancel")}catch(s){console.error(s)}}emitData(s,t){const n={page:"user-roles",type:s};t&&(n.data=t),this.userRoleEmitter.emit(n)}changeactiveTab(s){this.activeTab=this.activeTab!==s.value?s.value:null}openAccessTab(){this.openTab=!this.openTab}onPermChange(s,t){try{if("view"===t&&!this.accessPermission[s].view){for(let o of this.allPermList)"view"!==o?.value&&this.accessPermission[s]?.hasOwnProperty(o?.value)&&(this.accessPermission[s][o?.value]=!1);return}const n=Object.keys(this.accessPermission[s]).some(o=>"view"!==o&&this.accessPermission[s][o]);"view"!==t&&n&&(this.accessPermission[s].view=!0)}catch(n){console.error(n)}}}return r.\u0275fac=function(s){return new(s||r)(e.Y36(g.z),e.Y36(h.M),e.Y36(x.e))},r.\u0275cmp=e.Xpm({type:r,selectors:[["wt-config-user-role"]],inputs:{pageconf:"pageconf"},outputs:{userRoleEmitter:"userRoleEmitter"},decls:22,vars:13,consts:[[1,"row","col-12","m-0","user-access-fields"],[1,"pl-0",3,"formGroup"],[1,"row","col-12","m-0","p-0"],[1,"form-group","col-4","pl-0"],[1,"form-design","required"],["type","text","ucpWhiteSpaceRestrictor","","placeholder","Enter User Role","formControlName","user_role_name",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["class","invalid-feedback pt-1",4,"ngIf"],["type","text","rows","3","ucpWhiteSpaceRestrictor","","placeholder","Enter Description","formControlName","user_role_description",1,"form-control",3,"ngModel","ngClass","ngModelChange"],[4,"ngIf"],[1,"col-12","pl-0","ml-0"],[1,"pt-3","ml-0","pl-0"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"btn","btn-inverse","btn-outline-primary","mx-2",3,"click"],[1,"invalid-feedback","pt-1"],[1,"accordionLine","col-md-12","mt-2","pl-0",3,"click"],[1,"vDataLabel","d-flex","accor_dian"],["class","material-icons-outlined",4,"ngIf"],[1,"material-icons-outlined"],["class","pl-0 accordionLine",4,"ngFor","ngForOf"],[1,"pl-0","accordionLine"],[1,"col-md-12","mt-2",3,"ngClass","click"],["class","ml-5",4,"ngIf"],[1,"ml-5"],[4,"ngFor","ngForOf"],["class","row col-md-4 px-0 mx-0",4,"ngIf"],[1,"row","col-md-4","px-0","mx-0"],[1,"col-md-4","state","px-0","mx-0"],[1,"mr-2"],[1,"col-md-2","px-0","mx-0"],[1,"switcher-control"],["type","checkbox",1,"switcher-input",3,"checked","name","ngModel","ngModelOptions","ngModelChange","change"],[1,"switcher-indicator"],[1,"col-md-6","px-0","mx-0","float-left"],["id","loader-wrapper-submaincontent"],[1,"lds-ring"]],template:function(s,t){1&s&&(e.TgZ(0,"div")(1,"div",0)(2,"form",1)(3,"div",2)(4,"div",3)(5,"label",4),e._uU(6,"User Role"),e.qZA(),e.TgZ(7,"input",5),e.NdJ("ngModelChange",function(o){return t.userRoleData.user_role_name=o}),e.qZA(),e.YNc(8,le,2,1,"div",6),e.qZA(),e.TgZ(9,"div",3)(10,"label",4),e._uU(11,"Description"),e.qZA(),e.TgZ(12,"textarea",7),e.NdJ("ngModelChange",function(o){return t.userRoleData.user_role_description=o}),e.qZA(),e.YNc(13,ce,2,1,"div",6),e.qZA()(),e.YNc(14,xe,8,3,"div",8),e.qZA()(),e.TgZ(15,"div",9)(16,"div",10)(17,"button",11),e.NdJ("click",function(){return t.saveUserRole()}),e._uU(18," Save Changes "),e.qZA(),e.TgZ(19,"button",12),e.NdJ("click",function(){return t.cancelUserRole()}),e._uU(20," Cancel "),e.qZA()()()(),e.YNc(21,Te,7,0,"div",8)),2&s&&(e.xp6(2),e.Q6J("formGroup",t.userRoleForm),e.xp6(5),e.Q6J("ngModel",t.userRoleData.user_role_name)("ngClass",e.VKq(9,Z,t.f.user_role_name.dirty&&t.f.user_role_name.errors)),e.xp6(1),e.Q6J("ngIf",t.f.user_role_name.errors&&t.f.user_role_name.dirty),e.xp6(4),e.Q6J("ngModel",t.userRoleData.user_role_description)("ngClass",e.VKq(11,Z,t.f.user_role_description.dirty&&t.f.user_role_description.errors)),e.xp6(1),e.Q6J("ngIf",t.f.user_role_description.errors&&t.f.user_role_description.dirty),e.xp6(1),e.Q6J("ngIf",t.accessPermission&&(null==t.accordionView?null:t.accordionView.length)),e.xp6(7),e.Q6J("ngIf",(null==t.loader?null:t.loader.saveRole)||(null==t.loader?null:t.loader.fetch)||(null==t.loader?null:t.loader.fetchPerm)))},dependencies:[c.mk,c.sg,c.O5,l._Y,l.Fj,l.Wl,l.JJ,l.JL,l.On,l.sg,l.u],styles:[".user-access-fields[_ngcontent-%COMP%]{height:calc(100vh - 150px);max-height:calc(100vh - 150px);overflow-y:auto}"]}),r})();const Ue=function(){return[]};function Ze(r,i){if(1&r){const s=e.EpF();e.TgZ(0,"div",18)(1,"wt-ag-grid-table",19),e.NdJ("aggridEmitter",function(n){e.CHM(s);const o=e.oxw();return e.KtG(o.aggridEmitter(n))}),e.qZA()()}if(2&r){const s=e.oxw();e.xp6(1),e.Q6J("agGridOptions",s.agGridOptions)("clickableColumns",(null==s.agGridOptions?null:s.agGridOptions.clickableColumns)||e.DdM(2,Ue))}}function ye(r,i){1&r&&(e.ynx(0),e.TgZ(1,"div")(2,"div",20)(3,"div",21),e._UZ(4,"div")(5,"div")(6,"div")(7,"div"),e.qZA()()(),e.BQk())}function Pe(r,i){if(1&r){const s=e.EpF();e.ynx(0),e.TgZ(1,"wt-config-user",23),e.NdJ("userEmitter",function(n){e.CHM(s);const o=e.oxw(2);return e.KtG(o.userConfEmitter(n))}),e.qZA(),e.BQk()}if(2&r){const s=e.oxw(2);e.xp6(1),e.Q6J("pageconf",s.meta)}}function Ae(r,i){if(1&r&&(e.TgZ(0,"div",22),e.YNc(1,Pe,2,1,"ng-container",3),e.qZA()),2&r){const s=e.oxw();e.xp6(1),e.Q6J("ngIf","users"===s.selectedView)}}function qe(r,i){if(1&r){const s=e.EpF();e.ynx(0),e.TgZ(1,"wt-config-user-role",24),e.NdJ("userRoleEmitter",function(n){e.CHM(s);const o=e.oxw(2);return e.KtG(o.userConfEmitter(n))}),e.qZA(),e.BQk()}if(2&r){const s=e.oxw(2);e.xp6(1),e.Q6J("pageconf",s.meta)}}function Me(r,i){if(1&r&&(e.TgZ(0,"div",22),e.YNc(1,qe,2,1,"ng-container",3),e.qZA()),2&r){const s=e.oxw();e.xp6(1),e.Q6J("ngIf","user-roles"===s.selectedView)}}let Ie=(()=>{class r{constructor(s,t,n,o,f,ke,De){this.appservice=s,this.toaster=t,this.router=n,this.route=o,this.commonPopup=f,this._auth=ke,this._util=De,this.destroy$=new m.xQ,this.usersConf=["users","user-roles"],this.userLabels={},this.loader={table:!1,delete:!1},this.meta={id:null,type:null},this.userRolePermissions={},this.userLabels=b.D.CONSTANTS.userLabels,this.route.params.subscribe(_=>{_&&_.type&&this.pageBasedConf(_.type)}),this.subscription=this.commonPopup.loaderState.pipe((0,d.R)(this.destroy$)).subscribe(_=>{"Yes"===_.confirmation&&_.action===`delete_${this.selectedView}_item`&&this.confirmConfDelete(_?.data)}),this.pageType&&(this.pageBasedConf(this.pageType),this.setPermissions())}setPermissions(){try{const s=b.D.CONSTANTS.userLabels?.[this.pageType]?.permissionKey;if(s){const t=this._auth.getUserPermissions(s);t&&(this.userRolePermissions.create=t.create,this.userRolePermissions.edit=t.edit,this.userRolePermissions.delete=t.delete,this.userRolePermissions.view=t.view)}}catch(s){console.error(s)}}pageBasedConf(s){try{switch(s){case"users":this.selectedView="users";break;case"user-roles":this.selectedView="user-roles"}this.loadData()}catch(t){console.error(t)}}ngOnInit(){}ngOnChanges(s){s.pageType&&(this.pageBasedConf(this.pageType),this.setPermissions())}loadData(){try{let s="getUserDetails";switch(this.selectedView){case"user-roles":s="getUserRoleDetails";break;case"users":s="getUserDetails"}this.loader.table=!0,this.appservice[s]().pipe((0,d.R)(this.destroy$)).subscribe(t=>{t&&"success"===t.status?(this.agGridOptions=t.data,this.agGridOptions.tableActions?.externalActions?.length?this.agGridOptions.tableActions?.externalActions.findIndex(o=>"download"===o.type)>-1||this.agGridOptions.tableActions.externalActions.unshift({label:"Download",action:"download",type:"download","icon-class":"download",fileName:this.userLabels?.[this.selectedView].label,noLabel:!0}):this.agGridOptions.tableActions.externalActions=[{label:"Download",action:"download",type:"download","icon-class":"download",fileName:this.userLabels?.[this.selectedView].label,noLabel:!0}],this.loader.table=!1):(this.loader.table=!1,this.toaster.toast("error","Error",t.message||"Error while fetching data."))},t=>{this.loader.table=!1,this.toaster.toast("error","Error","Error while fetching data."),console.error(t)})}catch(s){this.loader.table=!1,console.error(s)}}aggridEmitter(s){try{if(console.log(s),!s||!s?.action?.type||!this.selectedView)return;if(s&&s?.action?.type)switch(s.action.type){case"addnew":this.meta.id=null,this.meta.data=null,this.meta.type=this.selectedView,this.openModal(`${this.selectedView}_id`);break;case"edit":this.meta.id=s.data[this.getId()],this.meta.data=s.data,this.meta.type=this.selectedView,this.openModal(`${this.selectedView}_id`);break;case"delete":this.commonPopup.triggerPopup("deletion","Confirmation",`Are you sure do you want to delete this ${this.userLabels[this.selectedView]?.errorLabel} (${s?.data?.[this.userLabels[this.selectedView]?.titleKey]})?`,!0,`delete_${this.selectedView}_item`,s)}}catch(t){console.error(t)}}userConfEmitter(s){try{if(!s||!s?.page||!s?.type)return;("cancel"===s.type||"save"===s.type)&&(this.meta={id:null,type:null,data:null},this.openModal(`close_${s.page}_id`),"save"===s.type&&this.loadData())}catch(t){console.error(t)}}openModal(s){try{const t=document.getElementById(s);t&&t.click()}catch(t){console.error(t)}}closeUserConf(){this.meta={id:null,page:null}}getId(){switch(this.selectedView){case"user-roles":return"user_role_id";case"users":return"user_id"}return""}confirmConfDelete(s){try{const t={};t[this.getId()]=s.data[this.getId()];let n="";switch(this.selectedView){case"user-roles":n="deleteUserRole";break;case"users":n="deleteUser"}if(!n)return;this.loader.delete=!0,this.appservice[n](t).pipe((0,d.R)(this.destroy$)).subscribe(o=>{"success"===o.status?(this.loader.delete=!1,this.loadData(),this.toaster.toast("success","Success",o.message||`${this.userLabels[this.selectedView].messageLabel} deleted successfully.`,!0)):(this.loader.delete=!1,this.toaster.toast("error","Error",o.message||`Error while deleting ${this.userLabels[this.selectedView].errorLabel}.`,!0))},o=>{this.loader.delete=!1,console.error(o),this.toaster.toast("error","Error",`Error while deleting ${this.userLabels[this.selectedView].errorLabel}.`,!0)})}catch(t){this.loader.delete=!1,console.error(t)}}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.destroy$.next(!0),this.destroy$.complete(),this.destroy$.unsubscribe()}}return r.\u0275fac=function(s){return new(s||r)(e.Y36(g.z),e.Y36(h.M),e.Y36(p.F0),e.Y36(p.gz),e.Y36(y.X),e.Y36(x.e),e.Y36(T.h))},r.\u0275cmp=e.Xpm({type:r,selectors:[["wt-user-tables"]],inputs:{pageType:"pageType"},features:[e.TTD],decls:28,vars:8,consts:[[1,"main-content"],[1,"page-inner"],["class","",4,"ngIf"],[4,"ngIf"],["type","button","hidden","","data-toggle","modal","data-target","#usersModal","id","users_id","data-backdrop","static","data-keyboard","false",1,"btn","btn-primary"],["type","button","hidden","","data-toggle","modal","data-target","#userRolesModal","id","user-roles_id","data-backdrop","static","data-keyboard","false",1,"btn","btn-primary"],["id","usersModal","tabindex","-1","role","dialog","aria-labelledby","usersModalTitle","aria-hidden","true",1,"modal","right","fade"],["wtGlobalSlider","","role","document",1,"modal-dialog","modal-min-width-slider",3,"wtSliderType"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close","id","close_users_id",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body",2,"overflow-y","auto"],["class","row m-0",4,"ngIf"],["id","userRolesModal","tabindex","-1","role","dialog","aria-labelledby","userRolesModalTitle","aria-hidden","true",1,"modal","right","fade"],["wtGlobalSlider","","role","document",1,"modal-dialog","modal-min-width-slider","min_w_75",3,"wtSliderType"],["type","button","data-dismiss","modal","aria-label","Close","id","close_user-roles_id",1,"close",3,"click"],[1,""],[3,"agGridOptions","clickableColumns","aggridEmitter"],["id","loader-wrapper-submaincontent"],[1,"lds-ring"],[1,"row","m-0"],[1,"pl-0",3,"pageconf","userEmitter"],[1,"pl-0",3,"pageconf","userRoleEmitter"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,Ze,2,3,"div",2),e.YNc(3,ye,8,0,"ng-container",3),e.qZA()(),e._UZ(4,"button",4)(5,"button",5),e.TgZ(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"h5",10),e._uU(11),e.qZA(),e.TgZ(12,"button",11),e.NdJ("click",function(){return t.closeUserConf()}),e.TgZ(13,"span",12),e._uU(14,"\xd7"),e.qZA()()(),e.TgZ(15,"div",13),e.YNc(16,Ae,2,1,"div",14),e.qZA()()()(),e.TgZ(17,"div",15)(18,"div",16)(19,"div",8)(20,"div",9)(21,"h5",10),e._uU(22),e.qZA(),e.TgZ(23,"button",17),e.NdJ("click",function(){return t.closeUserConf()}),e.TgZ(24,"span",12),e._uU(25,"\xd7"),e.qZA()()(),e.TgZ(26,"div",13),e.YNc(27,Me,2,1,"div",14),e.qZA()()()()),2&s&&(e.xp6(2),e.Q6J("ngIf",t.selectedView&&!(null!=t.loader&&t.loader.table)),e.xp6(1),e.Q6J("ngIf",null==t.loader?null:t.loader.table),e.xp6(4),e.Q6J("wtSliderType","right-to-left"),e.xp6(4),e.Oqu((null!=t.meta&&t.meta.id?"Edit ":"Add ")+(null==t.userLabels||null==t.userLabels[t.selectedView]?null:t.userLabels[t.selectedView].messageLabel)),e.xp6(5),e.Q6J("ngIf",null==t.meta?null:t.meta.type),e.xp6(2),e.Q6J("wtSliderType","right-to-left"),e.xp6(4),e.Oqu((null!=t.meta&&t.meta.id?"Edit ":"Add ")+(null==t.userLabels||null==t.userLabels[t.selectedView]?null:t.userLabels[t.selectedView].messageLabel)),e.xp6(5),e.Q6J("ngIf",null==t.meta?null:t.meta.type))},dependencies:[c.O5,P.L,A,v,C],styles:[".min_w_35[_ngcontent-%COMP%]{min-width:35%!important}.min_w_75[_ngcontent-%COMP%]{min-width:75%!important}.min_w_50[_ngcontent-%COMP%]{min-width:50%!important}"]}),r})();var Je=a(2949);const Ne=[{path:"",component:(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["wt-user-management"]],decls:2,vars:0,template:function(s,t){1&s&&e._UZ(0,"wt-common-popup")(1,"router-outlet")},dependencies:[p.lC,Je.m]}),r})(),children:[{path:"",redirectTo:"user-table/users",pathMatch:"full"},{path:"user-table/:type",component:Ie},{path:"config-user/new",component:v},{path:"config-user-role/new",component:C},{path:"config-user/:mode/:id",component:v},{path:"config-user-role/:mode/:id",component:C}]}];let Re=(()=>{class r{}return r.\u0275fac=function(s){return new(s||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[p.Bz.forChild(Ne),p.Bz]}),r})();var Ee=a(3771),Qe=a(6401),Ye=a(9611);let Fe=(()=>{class r{}return r.\u0275fac=function(s){return new(s||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[c.ez,Re,Ee.m,l.u5,c.ez,l.UX,Qe.i,U.A0,Ye.L]}),r})()}}]);